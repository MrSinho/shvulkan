<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>shvulkan: Compute Example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<!--DOXYGEN AWESOME CSS-->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
  DoxygenAwesomeDarkModeToggle.init()
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
  DoxygenAwesomeFragmentCopyButton.init()
</script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
    DoxygenAwesomeParagraphLink.init()
</script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript">
  DoxygenAwesomeInteractiveToc.init()
</script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
  <script type="text/javascript">
    DoxygenAwesomeTabs.init()
</script>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">shvulkan<span id="projectnumber">&#160;pre-release</span>
   </div>
   <div id="projectbrief">by mrsinho.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md_src_2compute__example.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Compute Example </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md28"></a></p>
<p><img src="https://img.shields.io/badge/shvulkan%20|%20SINHO%20SOFTWORKS-3CFADC?style=for-the-badge&amp;logo=&amp;logoColor=white&amp;labelColor=990042" alt="" class="inline"/> <a href="https://github.com/mrsinho/shvulkan"><img src="https://img.shields.io/badge/GitHub_repository-3CFADC?style=for-the-badge&amp;logo=github&amp;logoColor=black" alt="" class="inline"/></a></p>
<p>The compute example demonstrates the setup and execution of a Vulkan-based compute shader application. The application starts by initializing Vulkan components, including creating an instance, selecting a physical device, and setting up a logical device with a compute queue. A command pool and command buffer are also created to handle command submissions.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md29"></a>
Memory Allocation</h1>
<p>The primary objective of this application is to perform computations using a compute shader. The application first prepares memory by setting up staging and device-local buffers. The staging buffer is used for host-visible memory, allowing the CPU to write data to it. This data includes an array of input values and a factor. This buffer is then copied to a device-local buffer, which is optimized for GPU access.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md30"></a>
Compute Pipeline</h1>
<p>Next, the compute pipeline is set up. This involves defining descriptor sets and layout bindings, creating and setting up shader modules, and configuring the compute pipeline. The compute shader is responsible for performing operations on the input data. In this example, the shader is designed to square the input values.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md31"></a>
Compute Queue Submission</h1>
<p>Once the pipeline is ready, the application records commands into the command buffer. This includes binding the compute pipeline and descriptor sets, and dispatching compute work to the GPU. After recording, the command buffer is submitted to the compute queue, and the application waits for the operations to complete.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md32"></a>
GPU Memory reading and cleanup</h1>
<p>After the computation, the application copies the results from the device-local buffer back to the staging buffer. This allows the CPU to access and read the results of the computation. The final step involves reading the output values from the staging buffer and printing them to the console.</p>
<p>The application concludes by cleaning up resources, including destroying Vulkan objects and freeing allocated memory.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md33"></a>
Terminal output</h1>
<div class="fragment"><div class="line">Compute shader inputs:</div>
<div class="line">0.000000</div>
<div class="line">1.000000</div>
<div class="line">2.000000</div>
<div class="line">3.000000</div>
<div class="line">4.000000</div>
<div class="line">5.000000</div>
<div class="line">6.000000</div>
<div class="line">7.000000</div>
<div class="line">8.000000</div>
<div class="line">9.000000</div>
<div class="line">10.000000</div>
<div class="line">11.000000</div>
<div class="line">12.000000</div>
<div class="line">13.000000</div>
<div class="line">14.000000</div>
<div class="line">15.000000</div>
<div class="line">16.000000</div>
<div class="line">17.000000</div>
<div class="line">18.000000</div>
<div class="line">19.000000</div>
<div class="line">20.000000</div>
<div class="line">21.000000</div>
<div class="line">22.000000</div>
<div class="line">23.000000</div>
<div class="line">24.000000</div>
<div class="line">25.000000</div>
<div class="line">26.000000</div>
<div class="line">27.000000</div>
<div class="line">28.000000</div>
<div class="line">29.000000</div>
<div class="line">30.000000</div>
<div class="line">31.000000</div>
<div class="line">32.000000</div>
<div class="line">33.000000</div>
<div class="line">34.000000</div>
<div class="line">35.000000</div>
<div class="line">36.000000</div>
<div class="line">37.000000</div>
<div class="line">38.000000</div>
<div class="line">39.000000</div>
<div class="line">40.000000</div>
<div class="line">41.000000</div>
<div class="line">42.000000</div>
<div class="line">43.000000</div>
<div class="line">44.000000</div>
<div class="line">45.000000</div>
<div class="line">46.000000</div>
<div class="line">47.000000</div>
<div class="line">48.000000</div>
<div class="line">49.000000</div>
<div class="line">50.000000</div>
<div class="line">51.000000</div>
<div class="line">52.000000</div>
<div class="line">53.000000</div>
<div class="line">54.000000</div>
<div class="line">55.000000</div>
<div class="line">56.000000</div>
<div class="line">57.000000</div>
<div class="line">58.000000</div>
<div class="line">59.000000</div>
<div class="line">60.000000</div>
<div class="line">61.000000</div>
<div class="line">62.000000</div>
<div class="line">63.000000</div>
<div class="line"> </div>
<div class="line">Squaring the numbers...</div>
<div class="line"> </div>
<div class="line">Compute shader output values:</div>
<div class="line">0.000000</div>
<div class="line">1.000000</div>
<div class="line">4.000000</div>
<div class="line">9.000000</div>
<div class="line">16.000000</div>
<div class="line">25.000000</div>
<div class="line">36.000000</div>
<div class="line">49.000000</div>
<div class="line">64.000000</div>
<div class="line">81.000000</div>
<div class="line">100.000000</div>
<div class="line">121.000000</div>
<div class="line">144.000000</div>
<div class="line">169.000000</div>
<div class="line">196.000000</div>
<div class="line">225.000000</div>
<div class="line">256.000000</div>
<div class="line">289.000000</div>
<div class="line">324.000000</div>
<div class="line">361.000000</div>
<div class="line">400.000000</div>
<div class="line">441.000000</div>
<div class="line">484.000000</div>
<div class="line">529.000000</div>
<div class="line">576.000000</div>
<div class="line">625.000000</div>
<div class="line">676.000000</div>
<div class="line">729.000000</div>
<div class="line">784.000000</div>
<div class="line">841.000000</div>
<div class="line">900.000000</div>
<div class="line">961.000000</div>
<div class="line">1024.000000</div>
<div class="line">1089.000000</div>
<div class="line">1156.000000</div>
<div class="line">1225.000000</div>
<div class="line">1296.000000</div>
<div class="line">1369.000000</div>
<div class="line">1444.000000</div>
<div class="line">1521.000000</div>
<div class="line">1600.000000</div>
<div class="line">1681.000000</div>
<div class="line">1764.000000</div>
<div class="line">1849.000000</div>
<div class="line">1936.000000</div>
<div class="line">2025.000000</div>
<div class="line">2116.000000</div>
<div class="line">2209.000000</div>
<div class="line">2304.000000</div>
<div class="line">2401.000000</div>
<div class="line">2500.000000</div>
<div class="line">2601.000000</div>
<div class="line">2704.000000</div>
<div class="line">2809.000000</div>
<div class="line">2916.000000</div>
<div class="line">3025.000000</div>
<div class="line">3136.000000</div>
<div class="line">3249.000000</div>
<div class="line">3364.000000</div>
<div class="line">3481.000000</div>
<div class="line">3600.000000</div>
<div class="line">3721.000000</div>
<div class="line">3844.000000</div>
<div class="line">3969.000000</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
