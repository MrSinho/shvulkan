\chapter{Compute Example}
\hypertarget{md_src_2compute__example}{}\label{md_src_2compute__example}\index{Compute Example@{Compute Example}}
\label{md_src_2compute__example_autotoc_md28}%
\Hypertarget{md_src_2compute__example_autotoc_md28}%


 \href{https://github.com/mrsinho/shvulkan}{\texttt{ }}

The compute example demonstrates the setup and execution of a Vulkan-\/based compute shader application. The application starts by initializing Vulkan components, including creating an instance, selecting a physical device, and setting up a logical device with a compute queue. A command pool and command buffer are also created to handle command submissions.\hypertarget{md_src_2compute__example_autotoc_md29}{}\doxysection{\texorpdfstring{Memory Allocation}{Memory Allocation}}\label{md_src_2compute__example_autotoc_md29}
The primary objective of this application is to perform computations using a compute shader. The application first prepares memory by setting up staging and device-\/local buffers. The staging buffer is used for host-\/visible memory, allowing the CPU to write data to it. This data includes an array of input values and a factor. This buffer is then copied to a device-\/local buffer, which is optimized for GPU access.\hypertarget{md_src_2compute__example_autotoc_md30}{}\doxysection{\texorpdfstring{Compute Pipeline}{Compute Pipeline}}\label{md_src_2compute__example_autotoc_md30}
Next, the compute pipeline is set up. This involves defining descriptor sets and layout bindings, creating and setting up shader modules, and configuring the compute pipeline. The compute shader is responsible for performing operations on the input data. In this example, the shader is designed to square the input values.\hypertarget{md_src_2compute__example_autotoc_md31}{}\doxysection{\texorpdfstring{Compute Queue Submission}{Compute Queue Submission}}\label{md_src_2compute__example_autotoc_md31}
Once the pipeline is ready, the application records commands into the command buffer. This includes binding the compute pipeline and descriptor sets, and dispatching compute work to the GPU. After recording, the command buffer is submitted to the compute queue, and the application waits for the operations to complete.\hypertarget{md_src_2compute__example_autotoc_md32}{}\doxysection{\texorpdfstring{GPU Memory reading and cleanup}{GPU Memory reading and cleanup}}\label{md_src_2compute__example_autotoc_md32}
After the computation, the application copies the results from the device-\/local buffer back to the staging buffer. This allows the CPU to access and read the results of the computation. The final step involves reading the output values from the staging buffer and printing them to the console.

The application concludes by cleaning up resources, including destroying Vulkan objects and freeing allocated memory.\hypertarget{md_src_2compute__example_autotoc_md33}{}\doxysection{\texorpdfstring{Terminal output}{Terminal output}}\label{md_src_2compute__example_autotoc_md33}

\begin{DoxyCode}{0}
\DoxyCodeLine{Compute\ shader\ inputs:}
\DoxyCodeLine{0.000000}
\DoxyCodeLine{1.000000}
\DoxyCodeLine{2.000000}
\DoxyCodeLine{3.000000}
\DoxyCodeLine{4.000000}
\DoxyCodeLine{5.000000}
\DoxyCodeLine{6.000000}
\DoxyCodeLine{7.000000}
\DoxyCodeLine{8.000000}
\DoxyCodeLine{9.000000}
\DoxyCodeLine{10.000000}
\DoxyCodeLine{11.000000}
\DoxyCodeLine{12.000000}
\DoxyCodeLine{13.000000}
\DoxyCodeLine{14.000000}
\DoxyCodeLine{15.000000}
\DoxyCodeLine{16.000000}
\DoxyCodeLine{17.000000}
\DoxyCodeLine{18.000000}
\DoxyCodeLine{19.000000}
\DoxyCodeLine{20.000000}
\DoxyCodeLine{21.000000}
\DoxyCodeLine{22.000000}
\DoxyCodeLine{23.000000}
\DoxyCodeLine{24.000000}
\DoxyCodeLine{25.000000}
\DoxyCodeLine{26.000000}
\DoxyCodeLine{27.000000}
\DoxyCodeLine{28.000000}
\DoxyCodeLine{29.000000}
\DoxyCodeLine{30.000000}
\DoxyCodeLine{31.000000}
\DoxyCodeLine{32.000000}
\DoxyCodeLine{33.000000}
\DoxyCodeLine{34.000000}
\DoxyCodeLine{35.000000}
\DoxyCodeLine{36.000000}
\DoxyCodeLine{37.000000}
\DoxyCodeLine{38.000000}
\DoxyCodeLine{39.000000}
\DoxyCodeLine{40.000000}
\DoxyCodeLine{41.000000}
\DoxyCodeLine{42.000000}
\DoxyCodeLine{43.000000}
\DoxyCodeLine{44.000000}
\DoxyCodeLine{45.000000}
\DoxyCodeLine{46.000000}
\DoxyCodeLine{47.000000}
\DoxyCodeLine{48.000000}
\DoxyCodeLine{49.000000}
\DoxyCodeLine{50.000000}
\DoxyCodeLine{51.000000}
\DoxyCodeLine{52.000000}
\DoxyCodeLine{53.000000}
\DoxyCodeLine{54.000000}
\DoxyCodeLine{55.000000}
\DoxyCodeLine{56.000000}
\DoxyCodeLine{57.000000}
\DoxyCodeLine{58.000000}
\DoxyCodeLine{59.000000}
\DoxyCodeLine{60.000000}
\DoxyCodeLine{61.000000}
\DoxyCodeLine{62.000000}
\DoxyCodeLine{63.000000}
\DoxyCodeLine{}
\DoxyCodeLine{Squaring\ the\ numbers...}
\DoxyCodeLine{}
\DoxyCodeLine{Compute\ shader\ output\ values:}
\DoxyCodeLine{0.000000}
\DoxyCodeLine{1.000000}
\DoxyCodeLine{4.000000}
\DoxyCodeLine{9.000000}
\DoxyCodeLine{16.000000}
\DoxyCodeLine{25.000000}
\DoxyCodeLine{36.000000}
\DoxyCodeLine{49.000000}
\DoxyCodeLine{64.000000}
\DoxyCodeLine{81.000000}
\DoxyCodeLine{100.000000}
\DoxyCodeLine{121.000000}
\DoxyCodeLine{144.000000}
\DoxyCodeLine{169.000000}
\DoxyCodeLine{196.000000}
\DoxyCodeLine{225.000000}
\DoxyCodeLine{256.000000}
\DoxyCodeLine{289.000000}
\DoxyCodeLine{324.000000}
\DoxyCodeLine{361.000000}
\DoxyCodeLine{400.000000}
\DoxyCodeLine{441.000000}
\DoxyCodeLine{484.000000}
\DoxyCodeLine{529.000000}
\DoxyCodeLine{576.000000}
\DoxyCodeLine{625.000000}
\DoxyCodeLine{676.000000}
\DoxyCodeLine{729.000000}
\DoxyCodeLine{784.000000}
\DoxyCodeLine{841.000000}
\DoxyCodeLine{900.000000}
\DoxyCodeLine{961.000000}
\DoxyCodeLine{1024.000000}
\DoxyCodeLine{1089.000000}
\DoxyCodeLine{1156.000000}
\DoxyCodeLine{1225.000000}
\DoxyCodeLine{1296.000000}
\DoxyCodeLine{1369.000000}
\DoxyCodeLine{1444.000000}
\DoxyCodeLine{1521.000000}
\DoxyCodeLine{1600.000000}
\DoxyCodeLine{1681.000000}
\DoxyCodeLine{1764.000000}
\DoxyCodeLine{1849.000000}
\DoxyCodeLine{1936.000000}
\DoxyCodeLine{2025.000000}
\DoxyCodeLine{2116.000000}
\DoxyCodeLine{2209.000000}
\DoxyCodeLine{2304.000000}
\DoxyCodeLine{2401.000000}
\DoxyCodeLine{2500.000000}
\DoxyCodeLine{2601.000000}
\DoxyCodeLine{2704.000000}
\DoxyCodeLine{2809.000000}
\DoxyCodeLine{2916.000000}
\DoxyCodeLine{3025.000000}
\DoxyCodeLine{3136.000000}
\DoxyCodeLine{3249.000000}
\DoxyCodeLine{3364.000000}
\DoxyCodeLine{3481.000000}
\DoxyCodeLine{3600.000000}
\DoxyCodeLine{3721.000000}
\DoxyCodeLine{3844.000000}
\DoxyCodeLine{3969.000000}

\end{DoxyCode}
 